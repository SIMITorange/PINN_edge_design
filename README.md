好的，为这段代码添加一个 `README.md` 文件，能够帮助其他开发者快速了解代码的功能、使用方法等信息。以下是一个示例的 `README.md` 内容，你可以根据实际情况进行调整和修改：

# 基于物理信息神经网络（PINN）的场终端结构优化代码

## 1. 项目简介
本项目旨在通过基于物理信息的神经网络（Physics-Informed Neural Network, PINN）来优化场终端结构。通过求解泊松方程并结合边界条件和电场约束，实现对终端结构参数的自动优化。

## 2. 代码结构
1. **`PolyMesh` 类**：处理具有可学习顶点的场终端结构，负责生成多边形网格的顶点坐标、生成网格点、判断点是否在多边形内以及获取边界段。
2. **`PINN` 类**：物理信息神经网络，实现了网络的前向传播、计算梯度、计算电场以及将归一化的电位转换为实际电位的功能。
3. **`FieldTerminationSolver` 类**：整个求解过程的核心类，包含了上述两个类的实例，并负责计算损失函数、执行训练步骤以及训练整个模型。

## 3. 主要功能
1. **动态网格生成**：根据可学习的结构参数生成多边形网格点。
2. **泊松方程求解**：通过 PINN 计算电位的拉普拉斯算子，并结合给定的电荷密度和相对介电常数求解泊松方程。
3. **边界条件处理**：考虑了上下边界的电位条件，并将其纳入损失函数中。
4. **电场约束**：对特定目标点的电场强度进行约束，使其接近目标值。
5. **参数约束**：对结构参数设置了最小值约束（最小值为 1μm），并将违反约束的情况纳入损失函数。

## 4. 运行环境
1. **Python 版本**：建议使用 Python 3.7 及以上版本。
2. **依赖库**：
    - `torch`：深度学习框架，用于构建和训练神经网络。
    - `torch.nn`：PyTorch 的神经网络模块。
    - `torch.optim`：PyTorch 的优化器模块。
    - `numpy`：用于数值计算。
    - `matplotlib`：用于可视化结构和损失曲线。

## 5. 运行方法
1. 确保已经安装了上述所有依赖库。
2. 在命令行中进入代码所在的目录。
3. 运行 `python <代码文件名>.py`（如果代码文件名为 `main.py`，则运行 `python main.py`）。
4. 训练过程中，每 100 个 epoch 会打印当前的损失值、各部分损失的权重、约束条件的状态以及优化后的参数值，并可视化当前的结构和损失曲线。

## 6. 初始参数设置
在代码中通过 `initial_params` 字典设置初始参数，这些参数包括 `s1` 到 `s12` 和 `w2` 到 `w13`，所有参数的初始值都设置为大于等于 1 的数值。

```python
initial_params = {
    's1':1.5, 's2':1.5, 's3':1.5, 's4':1.5, 's5':1.5, 's6':1.5,
    's7':2.1, 's8':2.5, 's9':3.0, 's10':3.5, 's11':4.0, 's12':4.5,
    'w2':3.0, 'w3':3.0, 'w4':3.0, 'w5':3.0, 'w6':3.0, 'w7':3.0,
    'w8':1.5, 'w9':1.5, 'w10':1.5, 'w11':1.5, 'w12':1.5, 'w13':1.5
}
```

## 7. 结果可视化
训练过程中，每 100 个 epoch 会生成两个可视化图表：
1. **结构图表**：显示当前优化后的场终端结构的多边形形状。
2. **损失曲线图表**：显示训练过程中总损失值随 epoch 变化的曲线。

希望以上 `README.md` 能够满足你的需求，如果你还有其他问题或需要进一步的修改，请随时告诉我。 
